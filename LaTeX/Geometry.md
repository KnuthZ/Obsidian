#### Команды

- `\geometry{<options>}` 

**Назначение:**  
Используется для задания параметров страницы в преамбуле документа.

---

- `\newgeometry{<options>}` и `\restoregeometry`

**Назначение:**  
Эти команды позволяют изменить геометрию страницы в середине документа.

- `\newgeometry{<options>}` — изменяет параметры страницы.
- `\restoregeometry` — восстанавливает изначальные настройки, заданные в `\geometry`.

---

- `\savegeometry{<name>}` и `\loadgeometry{<name>}`

**Назначение:**  
Позволяют сохранить и загрузить предустановленные конфигурации страницы.

- `\savegeometry{mysetup}` — сохраняет текущую геометрию с именем `mysetup`.
- `\loadgeometry{mysetup}` — восстанавливает сохранённую геометрию.

---

#### Основные элементы страницы

1. **Формат бумаги** (`paper`) — общий размер страницы (A4, Letter и т. д.).
2. **Область содержимого** (`total body`) — включает текст и опционально колонтитулы и боковые заметки.
3. **Текстовая область** (`body`) — область, где располагается основной текст.
4. **Поля** (`margins`) — расстояние от краёв страницы до текстовой области.

Вся страница определяется уравнениями:
$$\text{paperwidth}=\text{left}+\text{width}+\text{right}$$
$$\text{paperheight}=\text{top}+\text{height}+\text{bottom}$$
Где `width = textwidth`, `height = textheight`.

**Также:**
$$\text{width} = \text{textwidth}\ (\ +\ \text{marginparsep}\ +\ \text{marginparwidth}\ )$$
$$\text{height} = \text{textheight} (\ +\ \text{headheight}\ +\ \text{headsep}\ +\ \text{footskip}\ )$$

---

#### Опции

**Размеры страницы:**

| Опция                         | Описание                         |
| ----------------------------- | -------------------------------- |
| `paperwidth`                  | Ширина бумаги                    |
| `paperheight`                 | Высота бумаги                    |
| `a4paper`, `letterpaper`, ... | Предустановленные форматы бумаги |

---

**Размеры текстовой области:**

| Опция                              | Описание                                                     |
| ---------------------------------- | ------------------------------------------------------------ |
| `width`                            | Ширина текстовой области (по умолчанию = `textwidth`)        |
| `height`                           | Высота текстовой области (по умолчанию = `textheight`)       |
| `textwidth`                        | Ширина текстового блока, без учета полей.                    |
| `textheight`                       | Высота текстового блока, без учета верхнего и нижнего полей. |
| `total={<width>, <height>}`        | Определяет общий размер, занимаемый текстом + полями.        |
| `text={<textwidth>, <textheight>}` | Это просто синоним `textwidth` и `textheight`.               |

---

**Поля (margins):**

| Опция     | Описание                                  |
| --------- | ----------------------------------------- |
| `top`     | Верхнее поле                              |
| `bottom`  | Нижнее поле                               |
| `left`    | Левое поле                                |
| `right`   | Правое поле                               |
| `inner`   | Внутреннее поле (для двусторонней печати) |
| `outer`   | Внешнее поле (для двусторонней печати)    |
| `margin`  | Задаёт одинаковые поля со всех сторон     |
| `hmargin` | Задаёт одинаковые левое и правое поле     |
| `vmargin` | Задаёт одинаковые верхнее и нижнее поле   |

---

**Колонтитулы и примечания:**

| Опция        | Описание                                                 |
| ------------ | -------------------------------------------------------- |
| `head`       | Высота верхнего колонтитула                              |
| `foot`       | Высота нижнего колонтитула                               |
| `headheight` | Высота строки в верхнем колонтитуле                      |
| `headsep`    | Расстояние между верхним колонтитулом и текстом          |
| `footskip`   | Расстояние от нижнего края текста до нижнего колонтитула |

---

**Настройки боковых заметок:**

| Опция            | Описание                                    |
| ---------------- | ------------------------------------------- |
| `marginparsep`   | Расстояние между текстом и боковой заметкой |
| `marginparwidth` | Ширина боковой заметки                      |

---

Можно настраивать **размер макета** (`layout`), который отличается от размера бумаги (`paper`). Это полезно, если нужно распечатать документ на бумаге другого размера. Например, можно задать макет `A5`, но печатать его на `A4`, установив соответствующие поля.


| Опция                            | Описание                                                                            |
| -------------------------------- | ----------------------------------------------------------------------------------- |
| `layout`                         | Задает размер макета по имени стандартного формата бумаги (A4, A5, Letter и т. д.). |
| `layoutwidth`                    | Определяет ширину макета в конкретной единице измерения (см, мм, pt и т. д.).       |
| `layoutheight`                   | Определяет высоту макета.                                                           |
| `layoutsize={<width>, <height>}` | Определяет ширину и высоту макета одновременно.                                     |
| `layouthoffset`                  | Устанавливает горизонтальное смещение макета от левого края бумаги.                 |
| `layoutvoffset`                  | Устанавливает вертикальное смещение макета от верхнего края бумаги.                 |
| `layoutoffset={h, v}`            | Определяет оба смещения одновременно.                                               |

**Пример использования:**
```
\documentclass{article}
\usepackage[a4paper]{geometry} % Размер бумаги A4
\geometry{
  layout=a5paper,         % Макет A5 на A4 бумаге
  layouthoffset=2cm,      % Сдвиг макета на 2 см вправо
  layoutvoffset=3cm,      % Сдвиг макета на 3 см вниз
  margin=1.5cm           % Поля вокруг макета 1.5 см
}

\begin{document}
Текст в макете A5, напечатанном на бумаге A4.
\end{document}
```

---

#### Масштабирование макета

Эти параметры позволяют **автоматически подогнать размер текста относительно бумаги**.

| Опция    | Описание                                    |
| -------- | ------------------------------------------- |
| `hscale` | Коэффициент масштабирования по горизонтали. |
| `vscale` | Коэффициент масштабирования по вертикали.   |
| `scale`  | Масштабирование по обоим направлениям.      |

**Пример использования:**

```
\documentclass{article}
\usepackage[a4paper]{geometry} % Устанавливаем размер бумаги A4
\geometry{
  textwidth=16cm,    % Ширина текста 16 см
  textheight=24cm,   % Высота текста 24 см
  hscale=0.8,        % Горизонтальное масштабирование 80%
  vscale=0.85        % Вертикальное масштабирование 85%
}

\begin{document}
Текст документа с заданными размерами.
\end{document}
```

Здесь ширина текста фиксирована (16 см), высота (24 см), но также применяется масштабирование (80% по ширине и 85% по высоте).

---

**Дополнительные настройки:**

| Опция             | Описание                                                                     |
| ----------------- | ---------------------------------------------------------------------------- |
| `includehead`     | Включает верхний колонтитул в `total body`.                                  |
| `includefoot`     | Включает нижний колонтитул в `total body`.                                   |
| `includeheadfoot` | Включает оба колонтитула.                                                    |
| `twoside`         | Включает двустороннюю верстку (меняет `left/right` на `inner/outer`).        |
| `includemp`       | Включает боковые заметки (`marginparsep` и `marginparwidth`) в `total body`. |
| `includeall`      | Включает все элементы в `total body`.                                        |
