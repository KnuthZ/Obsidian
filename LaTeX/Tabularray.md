#### Синтаксис

```
\begin{tblr}[<внешние характеристики>]{<внутренние характеристики>}
...
\end{tblr}
```

```
\begin{longtblr}[<внешние характеристики>]{<внутренние характеристики>}
...
\end{longtblr}
```

---
##### Опции:


- `Q[<горизонтальное выравнивание>,<вертикальное выравнивание>,<ширина>]`: Задает формат столбцов таблицы.

**Горизонтальное выравнивание:**
`l` — по левому краю.
`c` — по центру. 
`r` — по правому краю.

**Вертикальное выравнивание:**
`t` — верхний базис (top baseline).
`m` — центрирование по вертикали (middle).
`b` — нижний базис (bottom baseline).
`h` — заголовок строки (row head).
`f` — нижний заголовок строки (row foot).

**Ширина:** Устанавливает ширину колонки.

---

- `X[<вес>,<горизонтальное выравнивание>]`

**Вес (число)** — определяет относительную ширину колонки.

**Горизонтальное выравнивание:**
`l` — по левому краю.
`c` — по центру.
`r` — по правому краю.

---

- `width=<ширина>`: Устанавливает ширину таблицы.

---
##### Горизонтальные линии

- `hlines`: Глобальная настройка горизонтальных линий для всей таблицы.

**Синтаксис:**
```
hlines
hlines = {<толщина>, <стиль>}
hlines = {<номер строки>}{-}{<стиль>}
```

**Форматы:**
- `hlines` — просто включает стандартные линии между строками.
- `hlines = {<толщина>, <стиль>}` — задаёт толщину и стиль для всех горизонтальных линий.
- `hlines = {<номер строки>}{-}{<стиль>}` — настраивает линии для конкретной строки.

**Опции стилей:**
- `solid` — сплошная линия.
- `dashed` — пунктирная линия.
- `dotted` — точечная линия.

---

- `hline`: Точечное управление горизонтальными линиями.

**Синтаксис:**
`hline{<номер(а) строк>} = {<толщина>,<стиль>}`

**Форматы:**
- `hline{1}` — линия на границе первой строки.
- `hline{3-5}` — линии между строками 3, 4, 5.
- `hline{1,Z}` — линии на первой и последней строке.
- `hline{2,Y}` — на второй и предпоследней строке.
- `hline{3-X}` — на строках от 3 до предпоследней.

---

- `hborder`: Управляет границами таблицы, то есть верхней и нижней горизонтальными линиями.

**Синтаксис:**
`hborder = {<толщина>, <стиль>}`

---

##### Вертикальные линии

- `vlines`: Глобальная настройка вертикальных линий.

**Синтаксис:**
```
vlines
vlines = {<цвет>, <стиль>}
vlines = {<номер(а) колонок>}{<стиль>}
vlines = {odd}{<стиль>}, vlines = {even}{<стиль>}
```

**Форматы:**

- `vlines` — включает вертикальные линии между колонками.
- `vlines = {<цвет>, <стиль>}` — задаёт стиль для всех линий.
- `vlines = {<номер(а) колонок>}{<стиль>}` — выборочная настройка.
- `vlines = {odd}` — для нечетных столбцов.
- `vlines = {even}` — для четных столбцов.

---

- `vline`: Локальное управление вертикальными линиями.

**Синтаксис:**
`vline{<номер(а) столбцов>} = {<номер строк>}{<стиль>}`

**Форматы:**

- `vline{1}` — линия после первого столбца.
- `vline{1,5}` — после первого и пятого.
- `vline{1,5} = {3-4}{dotted}` — только между строками 3 и 4.

---

- `vborder`: Управляет границами по бокам таблицы.

**Синтаксис:**
`vborder = {<толщина>, <стиль>}`

---

##### Ячейки

- `cells`: Устанавливает стиль ячеек.

**Синтаксис:**
`cells = {<стили>}`

---

- `cell`: Устанавливает стиль для конкретной ячейки.

**Синтаксис:**
`cell{<строки>}{<столбцы>} = {<стили>}`

**Где:**

- `<строки>`: Номер строки или диапазон (например, `1`, `2-4`, `odd`, `even`).
- `<столбцы>`: Номер столбца или диапазон (например, `1`, `2-3`, `odd`, `even`).
- `{<стили>}`: Набор стилей, аналогичных `cells`.

**Ключи для содержимого ячеек:**

| Ключ     | Описание                    | Значения                         |
| -------- | --------------------------- | -------------------------------- |
| `halign` | Горизонтальное выравнивание | `l`, `c`, `r`, `j`               |
| `valign` | Вертикальное выравнивание   | `t`, `m`, `b`, `h`, `f`          |
| `wd`     | Ширина ячейки               | Любое измерение (`2cm`)          |
| `bg`     | Цвет фона                   | Имена из xcolor                  |
| `fg`     | Цвет текста                 | Имена из xcolor                  |
| `font`   | Команды шрифтов             | Например, `\itshape`             |
| `mode`   | Режим содержимого           | `text`, `math`, `imath`, `dmath` |
| `cmd`    | Команда для содержимого     | Например, `\fbox`                |
| `preto`  | Добавить текст в начало     | Например, `"→"`                  |
| `appto`  | Добавить текст в конец      | Например, `"%"`                  |
**Ключи для объединения ячеек:**

| Ключ | Описание                         | Значения        |
| ---- | -------------------------------- | --------------- |
| `r`  | Количество объединяемых строк    | `2`, `3` и т.д. |
| `c`  | Количество объединяемых столбцов | `2`, `3` и т.д. |

---

##### Строки

- `rows`: Применяет указанные стили ко всем строкам таблицы.

**Синтаксис:**
`rows = {<стили>}`

---

- `row`: Применяет стиль к конкретным строкам.

**Синтаксис:**
`row{<строки>} = {<стили>}`

**Специальные ключи для строк:**

| Ключ       | Описание                    | Значения                         |
| ---------- | --------------------------- | -------------------------------- |
| `halign`   | Горизонтальное выравнивание | `l`, `c`, `r`, `j`               |
| `valign`   | Вертикальное выравнивание   | `t`, `m`, `b`, `h`, `f`          |
| `ht`       | Высота строки               | Любое измерение (`2cm`)          |
| `bg`       | Цвет фона                   | Имена из xcolor                  |
| `fg`       | Цвет текста                 | Имена из xcolor                  |
| `font`     | Команды шрифтов             | Например, `\itshape`             |
| `mode`     | Режим содержимого           | `text`, `math`, `imath`, `dmath` |
| `cmd`      | Команда для содержимого     | Например, `\fbox`                |
| `abovesep` | Отступ сверху строки        | Любое измерение (`2cm`)          |
| `belowsep` | Отступ снизу строки         | Любое измерение (`2cm`)          |
| `rowsep`   | Отступ сверху и снизу       | Любое измерение (`2cm`)          |
| `preto`    | Добавить текст в начало     | Например, `"→"`                  |
| `appto`    | Добавить текст в конец      | Например, `"%"`                  |

---

- `rowspec={options}`: Определяет формат строк таблицы.

**Он определяет:**

- Вертикальное выравнивание.
- Высоту строк.
- Дополнительные параметры форматирования для всей строки (например, цвет фона, стиль линий и т.д.).

**Пример:**
`rowspec={ | Q[t] | Q[m] | Q[b] | }`

**Это означает:**
- Первая строка — `Q[t]` → текст прижат к верхнему краю ячеек.
- Вторая строка — `Q[m]` → текст выровнен по вертикали по центру.
- Третья строка — `Q[b]` → текст прижат к нижнему краю.

---

##### Столбцы

- `columns`: Применяет указанные стили ко всем столбцам.

**Синтаксис:**
`columns = {<стили>}`

---

- `column`: Применяет стиль к конкретным столбцам.

**Синтаксис:**
`column{<строки>} = {<стили>}`

**Специальные ключи для столбцов:**

| Ключ       | Описание                                  | Значения                         |
| ---------- | ----------------------------------------- | -------------------------------- |
| `halign`   | Горизонтальное выравнивание               | `l`, `c`, `r`, `j`               |
| `valign`   | Вертикальное выравнивание                 | `t`, `m`, `b`, `h`, `f`          |
| `wd`       | Ширина столбца                            | Любое измерение (`2cm`)          |
| `co`       | Коэффициент расширения (для `X` столбцов) | Число (1, 2, 6)                  |
| `bg`       | Цвет фона                                 | Имена из xcolor                  |
| `fg`       | Цвет текста                               | Имена из xcolor                  |
| `font`     | Команды шрифтов                           | Например, `\itshape`             |
| `mode`     | Режим содержимого                         | `text`, `math`, `imath`, `dmath` |
| `cmd`      | Команда для содержимого                   | Например, `\fbox`                |
| `leftsep`  | Отступ слева                              | Любое измерение (`2cm`)          |
| `rightsep` | Отступ справа                             | Любое измерение (`2cm`)          |
| `colsep`   | Отступ с обеих сторон                     | Любое измерение (`2cm`)          |
| `preto`    | Добавляет текст перед содержимым          | Например, `"→"`                  |
| `appto`    | Добавляет текст после содержимого         | Например, `"%"`                  |

---

- `colspec={options}`:  Определяет формат столбцов таблицы.

**Он определяет:**
- Горизонтальное выравнивание.
- Ширину столбцов.
- Дополнительные параметры форматирования для всего столбца (например, цвет фона, стиль линий и т.д.).

**Пример:**
`colspec={ Q[l] Q[c] Q[r] }`

**Это означает:**
- Первая колонка — `Q[l]` → текст выравнивается влево.
- Вторая колонка — `Q[c]` → текст по центру.
- Третья колонка — `Q[r]` → текст по правому краю.

#### Команды

- `\SetTblrInner`: Используется для установки внутренних характеристик таблицы.

**Синтаксис:**
`\SetTblrInner[<scope>]{key=value, key=value, ...}`

**Где:**
- `<scope>`: Задаёт область действия настроек:

| Ключ       | Описание                              |
| ---------- | ------------------------------------- |
| `tblr`     | Для стандартных таблиц.               |
| `longtblr` | Для длинных таблиц (многостраничных). |
| `mytblr`   | Пользовательские темы.                |

**Опции**:

| Ключ       | Описание                                                                                              |
| ---------- | ----------------------------------------------------------------------------------------------------- |
| `rulesep`  | Расстояние между двумя горизонтальными или вертикальными линиями (по умолчанию 2pt).                  |
| `stretch`  | Коэффициент растяжения распорок, добавленных к тексту ячейки (по умолчанию 1).                        |
| `abovesep` | Вертикальное пространство над каждой строкой (по умолчанию 2pt).                                      |
| `belowsep` | Вертикальное пространство под каждой строкой (по умолчанию 2pt).                                      |
| `rowsep`   | Вертикальное пространство над и под каждой строкой (по умолчанию 2pt).                                |
| `leftsep`  | Горизонтальное пространство слева от каждого столбца (по умолчанию 6pt).                              |
| `rightsep` | Горизонтальное пространство справа от каждого столбца (по умолчанию 6pt).                             |
| `colsep`   | Горизонтальное пространство с обеих сторон каждого столбца (по умолчанию 6pt).                        |
| `hspan`    | Алгоритм горизонтального объединения ячеек: `default`, `even` или `minimal` (по умолчанию `default`). |
| `vspan`    | Алгоритм вертикального объединения ячеек: `default` или `even` (по умолчанию `default`).              |
| `baseline` | Устанавливает базовую линию таблицы (по умолчанию `m`).                                               |

**Возможные значения** `baseline`:
- `t` — выравнивание по верхнему краю таблицы;
- `T` — выравнивание по первой строке;
- `m` — выравнивание по середине таблицы (значение по умолчанию);
- `b` — выравнивание по нижнему краю таблицы;
- `B` — выравнивание по последней строке;
- `<n>` — выравнивание по строке с номером `<n>` (положительное число).

---

- `\SetTblrOuter`: Используется для настройки внешних характеристик таблицы.

**Синтаксис:**
`\SetTblrOuter[<scope>]{key=value, key=value, ...}`

**Опции**:

| Ключ       | Описание                                                              |
| ---------- | --------------------------------------------------------------------- |
| `baseline` | Устанавливает базовую линию таблицы (по умолчанию `m`).               |
| `long`     | Превращает таблицу в длинную (многостраничную).                       |
| `tall`     | Превращает таблицу в высокую (для вертикальных структур).             |
| `expand`   | Включает возможность использовать команды с вербальной аргументацией. |
| `expand+`  | Аналогично `expand`, но добавляет значения к предыдущим.              |

---

- `\NewTblrEnviron{<name>}`: Создать новую среду Tabularray. 

---

- `\NewTableCommand<\command>{<настройки>}`: Создать новую команду таблицы.

---

- `\NewTblrTheme{<имя>}{<настройки>}`: Создать новую тему. (См. "Внутренние спецификации" и "Внешние спецификации")

---

- `\SetTblrStyle{<element>}{<style>}`: Применяет заданный стиль к указанному элементу таблицы. (См. "Ключи для стиля элементов")


---

##### Внутренние спецификации

| Ключ      | Описание                                                                   |
| --------- | -------------------------------------------------------------------------- |
| `rowhead` | Количество верхних строк, повторяемых на каждой странице (по умолчанию 0). |
| `rowfoot` | Количество нижних строк, повторяемых на каждой странице (по умолчанию 0).  |

---

##### Внешние спецификации

| Ключ             | Описание                                                                                                                               |
| ---------------- | -------------------------------------------------------------------------------------------------------------------------------------- |
| `headsep`        | Это вертикальное пространство между заголовком таблицы  и её основным содержимым.                                                      |
| `footsep`        | Это вертикальное пространство между нижним колонтитулом таблицы и её основным содержимым.                                              |
| `presep`         | Это вертикальное пространство между верхним краем таблицы (включая заголовок, если есть) и текстом, расположенным над таблицей.        |
| `postsep`        | Это вертикальное пространство между нижним краем таблицы (включая нижний колонтитул, если есть) и текстом, расположенным под таблицей. |
| `theme`          | Название темы (см. команду `\NewTblrTheme`).                                                                                           |
| `caption`        | Заголовок таблицы.                                                                                                                     |
| `entry`          | Краткий заголовок для списка таблиц.                                                                                                   |
| `label`          | Метка для ссылок (например, `\ref`).                                                                                                   |
| `note{<name>}`   | Примечание к таблице с тегом `<name>`.                                                                                                 |
| `remark{<name>}` | Примечание (заметка) к таблице с тегом `<name>`.                                                                                       |

---

##### Элементы для верха и низа таблицы.

| Ключ                                                | Описание                                                                                                                                                        |
| --------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `contfoot-text`                                     | Это текст, который отображается в нижнем колонтитуле таблицы при её переносе на следующую страницу. Обычно это фраза вроде "Продолжение на следующей странице". |
| `contfoot`                                          | Элемент оформления нижнего колонтитула.                                                                                                                         |
| `conthead-text`                                     | Это текст, который отображается в верхнем колонтитуле таблицы при её переносе на следующую страницу. Обычно это что-то вроде "(Продолжение)".                   |
| `conthead`                                          | Элемент оформления верхнего колонтитула.                                                                                                                        |
| `caption-tag`                                       | Метка заголовка (например, "Table 4.2").                                                                                                                        |
| `caption-sep`                                       | Разделитель после метки (по умолчанию `:` ).                                                                                                                    |
| `caption-text`                                      | Основной текст заголовка.                                                                                                                                       |
| `caption`                                           | Комбинация из `caption-tag`, `caption-sep` и `caption-text`.                                                                                                    |
| `note`, `note-tag`, `note-sep`, `note-text`         | Аналогично для примечаний.                                                                                                                                      |
| `remark`, `remark-tag`, `remark-sep`, `remark-text` | Аналогично для заметок.                                                                                                                                         |
| `firsthead`, `middlehead`, `lasthead`               | Заголовки для первой, средней и последней страницы.                                                                                                             |
| `firstfoot`, `middlefoot`, `lastfoot`               | Подвал для первой, средней и последней страницы.                                                                                                                |

---

##### Ключи для стиля элементов

| Ключ     | Описание                                                       |
| -------- | -------------------------------------------------------------- |
| `fg`     | Цвет текста (например, `fg=red`).                              |
| `font`   | Команды для изменения шрифта (например, `font=\bfseries`).     |
| `halign` | Горизонтальное выравнивание.                                   |
| `indent` | Установка отступа абзаца (по умолчанию 0pt).                   |
| `hang`   | Установка "висячего" отступа (по умолчанию `0pt` или `0.7em`). |

---

- `\DefTblrTemplate{<element>}{<template>}{<content>}`

**Назначение:**  
Определяет новый шаблон для указанного элемента таблицы.

**Аргументы:**

- `<element>` — Имя элемента (например, `contfoot-text` или `conthead-text`).
- `<template>` — Имя шаблона.
- `<content>` — Содержимое, которое будет отображаться при использовании этого шаблона.

---

- `\SetTblrTemplate{<element>}{<template>}`

**Назначение:**  
Применяет ранее определённый шаблон к указанному элементу.

**Аргументы:**

- `<element>` — Имя элемента, для которого мы задаём шаблон.
- `<template>` — Название шаблона, который нужно применить.

---

- `\UseTblrLibrary{<library1>, <library2>, ...}`

**Назначение:**
Позволяет подключить дополнительные библиотеки, которые расширяют функционал пакета.

**Доступные библиотеки:**

- `amsmath`: Добавляет окружения с префиксом `+` и адаптирует их под `tabularray`.
- `booktabs`: Предоставляет команды для оформления таблиц в академическом стиле.
- `siunitx`: Упрощает работу с числами и единицами измерения.

**Пример (Siunitx):**

```
\begin{tblr}{colspec={S[table-format=2.2]}}
3.14 \\
2.71 \\
1.618 \\
\end{tblr}
```

Числа выравниваются по десятичной точке.

